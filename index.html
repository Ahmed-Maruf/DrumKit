<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JS Drum Kit</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>

<!--A div of keys from keyboard-->
<div class="keys">
	
	<!--Individual div from every keys-->
	<div data-key="65" class="key" id="key-65">
		<!--kbd tag is a pharse tag, it defines keyboard input!!!!-->
		<kbd>A</kbd>
		<span class="sound">clap</span>
	</div>
	
	<!--Individual div from every keys-->
	<div data-key="83" class="key" id="key-83">
		<kbd>S</kbd>
		<span class="sound">hihat</span>
	</div>
	
	<!--Individual div from every keys-->
	<div data-key="68" class="key" id="key-68">
		<kbd>D</kbd>
		<span class="sound">kick</span>
	</div>
	
	<!--Individual div from every keys-->
	<div data-key="70" class="key" id="key-70">
		<kbd>F</kbd>
		<span class="sound">openhat</span>
	</div>
	
	<!--Individual div from every keys-->
	<div data-key="71" class="key" id="key-71">
		<kbd>G</kbd>
		<span class="sound">boom</span>
	</div>
	
	<!--Individual div from every keys-->
	<div data-key="72" class="key" id="key-72">
		<kbd>H</kbd>
		<span class="sound">ride</span>
	</div>
	
	<!--Individual div from every keys-->
	<div data-key="74" class="key" id="key-74">
		<kbd>J</kbd>
		<span class="sound">snare</span>
	</div>
	
	<!--Individual div from every keys-->
	<div data-key="75" class="key" id="key-75">
		<kbd>K</kbd>
		<span class="sound">tom</span>
	</div>
	
	<!--Individual div from every keys-->
	<div data-key="76" class="key" id="key-76">
		<kbd>L</kbd>
		<span class="sound">tink</span>
	</div>
	
	
</div>

<audio data-key="65" class="key-65" src="sounds/clap.wav"></audio>
<audio data-key="83" class="key-83" src="sounds/hihat.wav"></audio>
<audio data-key="68" class="key-68" src="sounds/kick.wav"></audio>
<audio data-key="70" class="key-70" src="sounds/openhat.wav"></audio>
<audio data-key="71" class="key-71" src="sounds/boom.wav"></audio>
<audio data-key="72" class="key-72" src="sounds/ride.wav"></audio>
<audio data-key="74" class="key-74" src="sounds/snare.wav"></audio>
<audio data-key="75" class="key-75" src="sounds/tom.wav"></audio>
<audio data-key="76" class="key-76" src="sounds/tink.wav"></audio>

<script>
	
	function playing(event) {
		const pressedKey = document.querySelector('.key-'+event.keyCode);
		if(!pressedKey)return;
		pressedKey.currentTime = 0; // returning to the initial position of the audio!!!!!
		pressedKey.play() //Playing the audio !!!!
		document.getElementById('key-'+event.keyCode).classList.add('playing'); /*Adding a playing class from css file*/
		/* @ v1.0 - firing an event after a duration
		setTimeout(function () {
			//prompt('What is the problem');
			document.getElementById('key-'+event.keyCode).classList.remove('playing'); /!*Removing a css class from css file after
			a duration*!/
		}, 100);*/
	}
	/* @ v2.0 - firing an event after a duration that is defined in a property of css*/
	function removeTransition(event) {
		//console.log(event);
		if(event.propertyName !== 'transform')return; /*skip it if it is not a transform event*/
		this.classList.remove('playing')
		
	}
	const  pressedKey = document.querySelectorAll('.key');
	//console.log(pressedKey);
	pressedKey.forEach(key => key.addEventListener('transitionend',removeTransition));
	window.addEventListener('keydown',playing);
</script>


</body>
</html>